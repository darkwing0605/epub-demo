(function(t){function e(e){for(var n,a,r=e[0],c=e[1],l=e[2],u=0,h=[];u<r.length;u++)a=r[u],o[a]&&h.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);f&&f(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,a=1;a<i.length;a++){var c=i[a];0!==o[c]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},o={app:0},s=[];function a(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"3a61ef71"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(t){var e=[],i=o[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise(function(e,n){i=o[t]=[e,n]});e.push(i[2]=n);var s,c=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=a(t),s=function(e){l.onerror=l.onload=null,clearTimeout(u);var i=o[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+n+": "+s+")");a.type=n,a.request=s,i[1](a)}o[t]=void 0}};var u=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,c.appendChild(l)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var f=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),o=i.n(n);o.a},1:function(t,e){},"19eb":function(t,e,i){"use strict";var n=i("ad7b"),o=i.n(n);o.a},"1d58":function(t,e,i){},2:function(t,e){},2655:function(t,e,i){},"3d0e":function(t,e,i){},"415b":function(t,e,i){"use strict";var n=i("1d58"),o=i.n(n);o.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},s=[];document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector("html"),e=window.innerWidth/10;e=e>50?50:e,t.style.fontSize=e+"px"});var a=void 0,r=(i("034f"),i("2877")),c=Object(r["a"])(a,o,s,!1,null,null,null);c.options.__file="App.vue";var l=c.exports,u=i("8c4f"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ebook"},[i("title-bar",{attrs:{ifTitleShow:t.ifTitleShow}}),i("div",{staticClass:"read-wrapper"},[i("div",{attrs:{id:"read"}}),i("div",{staticClass:"mask"},[i("div",{staticClass:"left",on:{click:t.prevPage}}),i("div",{staticClass:"center",on:{click:t.toggleTitle}}),i("div",{staticClass:"right",on:{click:t.nextPage}})])]),i("menu-bar",{ref:"menuBar",attrs:{ifTitleShow:t.ifTitleShow,fontSizeList:t.fontSizeList,defaultFontSize:t.defaultFontSize,themeList:t.themeList,defaultTheme:t.defaultTheme,bookAvailable:t.bookAvailable,navigation:t.navigation,changeProgress:t.changeProgress},on:{setFontSize:t.setFontSize,setTheme:t.setTheme,onProgressChange:t.onProgressChange,jumpTo:t.jumpTo}})],1)},h=[],d=i("ed19"),p=d["a"],v=(i("59f8"),Object(r["a"])(p,f,h,!1,null,"071eb48b",null));v.options.__file="Ebook.vue";var g=v.exports;n["a"].use(u["a"]);var m=new u["a"]({mode:"history",base:"",routes:[{path:"/",redirect:"/ebook"},{path:"/ebook",component:g},{path:"/about",name:"about",component:function(){return i.e("about").then(i.bind(null,"f820"))}}]});i("3d0e"),i("c860");n["a"].config.productionTip=!1,new n["a"]({router:m,render:function(t){return t(l)}}).$mount("#app")},"59f8":function(t,e,i){"use strict";var n=i("e698"),o=i.n(n);o.a},"64a9":function(t,e,i){},"7f2f":function(t,e,i){"use strict";var n=i("2655"),o=i.n(n);o.a},"82fa":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu-bar"},[i("transition",{attrs:{name:"slide-up"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.ifTitleShow,expression:"ifTitleShow"}],staticClass:"menu-wrapper",class:{"hide-box-shadow":t.ifSettingShow||!t.ifTitleShow}},[i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-menu icon",on:{click:function(e){t.showSetting(3)}}})]),i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-progress icon",on:{click:function(e){t.showSetting(2)}}})]),i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-bright icon",on:{click:function(e){t.showSetting(1)}}})]),i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-a icon",on:{click:function(e){t.showSetting(0)}}},[t._v("A")])])])]),i("transition",{attrs:{name:"slide-up"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.ifSettingShow,expression:"ifSettingShow"}],staticClass:"setting-wrapper"},[0===t.showTag?i("div",{staticClass:"setting-font-size"},[i("div",{staticClass:"preview",style:{fontSize:t.fontSizeList[0].fontSize+"px"}},[t._v("A")]),i("div",{staticClass:"select"},t._l(t.fontSizeList,function(e,n){return i("div",{key:n,staticClass:"select-wrapper",on:{click:function(i){t.setFontSize(e.fontSize)}}},[i("div",{staticClass:"line"}),i("div",{staticClass:"point-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.defaultFontSize===e.fontSize,expression:"defaultFontSize === item.fontSize"}],staticClass:"point"},[i("div",{staticClass:"small-point"})])]),i("div",{staticClass:"line"})])}),0),i("div",{staticClass:"preview",style:{fontSize:t.fontSizeList[t.fontSizeList.length-1].fontSize+"px"}},[t._v("A")])]):1===t.showTag?i("div",{staticClass:"setting-theme"},t._l(t.themeList,function(e,n){return i("div",{key:n,staticClass:"setting-theme-item",on:{click:function(e){t.setTheme(n)}}},[i("div",{staticClass:"preview",class:{"no-border":"#fff"!==e.style.body.background},style:{background:e.style.body.background}}),i("div",{staticClass:"text",class:{selected:n===t.defaultTheme}},[t._v(t._s(e.name))])])}),0):2===t.showTag?i("div",{staticClass:"setting-progress"},[i("div",{staticClass:"progress-wrapper"},[i("input",{ref:"progress",staticClass:"progress",attrs:{type:"range",max:"100",min:"0",step:"1",disabled:!t.bookAvailable},domProps:{value:0!==t.changeProgress?t.changeProgress:t.progress},on:{change:function(e){t.onProgressChange(e.target.value)},input:function(e){t.onProgressInput(e.target.value)}}})]),i("div",{staticClass:"text-wrapper"},[i("span",[t._v(t._s(t.bookAvailable?t.progress+"%":"加载中..."))])])]):t._e()])]),i("content-view",{directives:[{name:"show",rawName:"v-show",value:t.ifShowContent,expression:"ifShowContent"}],attrs:{ifShowContent:t.ifShowContent,navigation:t.navigation,bookAvailable:t.bookAvailable},on:{jumpTo:t.jumpTo}}),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.ifShowContent,expression:"ifShowContent"}],staticClass:"content-mask",on:{click:t.hideContent}})])],1)},o=[],s=(i("c5f6"),i("cadf"),i("551c"),i("097d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide-right"}},[i("div",{staticClass:"content"},[t.bookAvailable?i("div",{staticClass:"content-wrapper"},t._l(t.navigation.toc,function(e,n){return i("div",{key:n,staticClass:"content-item",on:{click:function(i){t.jumpTo(e.href)}}},[i("span",{staticClass:"text"},[t._v(t._s(e.label))])])}),0):i("div",{staticClass:"empty"},[t._v("加载中...")])])])}),a=[],r={props:{ifShowContent:Boolean,navigation:Object,bookAvailable:Boolean},methods:{jumpTo:function(t){this.$emit("jumpTo",t)}}},c=r,l=(i("7f2f"),i("2877")),u=Object(l["a"])(c,s,a,!1,null,"1fc345d0",null);u.options.__file="content.vue";var f=u.exports,h={components:{ContentView:f},props:{ifTitleShow:{type:Boolean,default:!1},fontSizeList:Array,defaultFontSize:Number,themeList:Array,defaultTheme:Number,bookAvailable:{type:Boolean,default:!1},navigation:Object,changeProgress:Number},data:function(){return{ifSettingShow:!1,showTag:0,progress:0,ifShowContent:!1}},watch:{changeProgress:{deep:!0,handler:function(t,e){this.progress=t,this.$refs.progress.style.backgroundSize="".concat(this.progress,"% 100%")}}},methods:{hideContent:function(){this.ifShowContent=!1},jumpTo:function(t){this.$emit("jumpTo",t)},onProgressInput:function(t){this.progress=t,this.$refs.progress.style.backgroundSize="".concat(this.progress,"% 100%")},onProgressChange:function(t){this.$emit("onProgressChange",t)},setTheme:function(t){this.$emit("setTheme",t)},setFontSize:function(t){this.$emit("setFontSize",t)},showSetting:function(t){this.showTag=t,3===this.showTag?(this.ifSettingShow=!1,this.ifShowContent=!0):this.ifSettingShow=!0},hideSetting:function(){this.ifSettingShow=!1}}},d=h,p=(i("415b"),Object(l["a"])(d,n,o,!1,null,"a43490be",null));p.options.__file="menuBar.vue";e["a"]=p.exports},ad7b:function(t,e,i){},afe3:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide-down"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.ifTitleShow,expression:"ifTitleShow"}],staticClass:"title-wrapper"},[i("div",{staticClass:"left"},[i("span",{staticClass:"icon-back icon"})]),i("div",{staticClass:"right"},[i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-cart icon"})]),i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-person icon"})]),i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-more icon"})])])])])},o=[],s=(i("cadf"),i("551c"),i("097d"),{props:{ifTitleShow:{type:Boolean,default:!1}}}),a=s,r=(i("19eb"),i("2877")),c=Object(r["a"])(a,n,o,!1,null,"18338c06",null);c.options.__file="titleBar.vue";e["a"]=c.exports},c860:function(t,e,i){},e698:function(t,e,i){},ed19:function(t,e,i){"use strict";(function(t){i("ac6a"),i("7f7f");var n=i("afe3"),o=i("82fa"),s=i("a211"),a="/MBook01.epub";t.epub=s["a"],e["a"]={components:{titleBar:n["a"],menuBar:o["a"]},data:function(){return{ifTitleShow:!1,fontSizeList:[{fontSize:12},{fontSize:14},{fontSize:16},{fontSize:18},{fontSize:20},{fontSize:22},{fontSize:24}],defaultFontSize:16,themeList:[{name:"default",style:{body:{color:"#000",background:"#fff"}}},{name:"eye",style:{body:{color:"#000",background:"#ceeaba"}}},{name:"night",style:{body:{color:"#fff",background:"#000"}}},{name:"gold",style:{body:{color:"#000",background:"rgb(241, 236, 226)"}}}],defaultTheme:0,bookAvailable:!1,navigation:{},progress:0}},methods:{jumpTo:function(t){this.rendition.display(t),this.hideTitleAndMenu(),this.changePage()},hideTitleAndMenu:function(){this.ifTitleShow=!1,this.$refs.menuBar.hideSetting(),this.$refs.menuBar.hideContent()},onProgressChange:function(t){var e=t/100,i=e>0?this.locations.cfiFromPercentage(e):0;this.rendition.display(i)},setTheme:function(t){this.themes.select(this.themeList[t].name),this.defaultTheme=t},registerTheme:function(){var t=this;this.themeList.forEach(function(e){t.themes.register(e.name,e.style)})},setFontSize:function(t){this.defaultFontSize=t,this.themes&&this.themes.fontSize(t+"px")},toggleTitle:function(){this.ifTitleShow=!this.ifTitleShow,this.ifTitleShow||this.$refs.menuBar.hideSetting()},changePage:function(){var t=this.rendition.currentLocation();this.changeProgress=this.locations.percentageFromCfi(t.start.cfi),this.changeProgress=Math.round(100*this.changeProgress)},prevPage:function(){var t=this;this.rendition&&this.rendition.prev().then(function(){t.changePage()})},nextPage:function(){var t=this;this.rendition&&this.rendition.next().then(function(){t.changePage()})},showEpub:function(){var t=this;this.book=new s["a"](a),this.rendition=this.book.renderTo("read",{width:window.innerWidth,height:window.innerHeight}),this.rendition.display(),this.themes=this.rendition.themes,this.setFontSize(this.defaultFontSize),this.registerTheme(),this.setTheme(this.defaultTheme),this.book.ready.then(function(){return t.navigation=t.book.navigation,t.book.locations.generate()}).then(function(){t.locations=t.book.locations,t.bookAvailable=!0})}},mounted:function(){this.showEpub()}}}).call(this,i("c8ba"))}});
//# sourceMappingURL=app.7d352816.js.map